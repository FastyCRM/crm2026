/* =========================================================
   FILE: /adm/assets/css/main.css
   ROLE: базовые стили админки + темы + UI tokens
   STYLE: "FastyCRM Flat Kanban" (эталон)
   RULES:
   - no border-radius
   - flat UI
   - gentle hover
   - theme via html[data-theme]
   ========================================================= */

/* Reset-ish */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-size: 14px;
  line-height: 1.4;
  background: var(--bg);
  color: var(--text);
}

a { color: inherit; text-decoration: none; }
button, input, select, textarea { font: inherit; }

/* =========================
   TOKENS (DEFAULT)
   ========================= */
:root{
  --bg: #0f1115;
  --text: #e9eef5;
  --muted: rgba(233,238,245,.75);
  --border: rgba(233,238,245,.14);

  --card: rgba(255,255,255,.04);

  /* NO ROUNDING */
  --radius: 0px;

  /* Primary (в темной/светлой) */
  --primary: #4b8bff;

  /* Hover */
  --hover: rgba(255,255,255,.06);

  /* INPUT TOKENS */
  --input-bg: rgba(255,255,255,.03);
  --input-bg-focus: rgba(255,255,255,.06);
  --input-text: var(--text);
  --input-border: rgba(233,238,245,.18);

  /* Sidebar tokens */
  --sidebar-bg: var(--bg);
  --sidebar-text: var(--text);
  --sidebar-muted: var(--muted);

  /* Icon tokens */
  --icon-default: rgba(233,238,245,.70);
  --icon-active: #fff;

  --icon-crm: var(--icon-default);
  --icon-site: var(--icon-default);
  --icon-users: var(--icon-default);
  --icon-info: var(--icon-default);
  --icon-danger: var(--icon-default);
  --icon-neutral: var(--icon-default);
}

/* =========================
   THEME: LIGHT
   ========================= */
html[data-theme="light"]{
  color-scheme: light;

  --bg: #ffffff;
  --text: #111111;
  --muted: rgba(17,17,17,.62);
  --border: rgba(17,17,17,.14);

  --card: rgba(17,17,17,.03);
  --primary: #2f6bff;
  --hover: rgba(17,17,17,.04);

  --input-bg: #ffffff;
  --input-bg-focus: #ffffff;
  --input-text: #111;
  --input-border: rgba(17,17,17,.20);

  --sidebar-bg: #f7f7f7;
  --sidebar-text: #111;
  --sidebar-muted: rgba(17,17,17,.62);

  --icon-default: rgba(17,17,17,.60);
  --icon-active: #111;

  --icon-crm: var(--icon-default);
  --icon-site: var(--icon-default);
  --icon-users: var(--icon-default);
  --icon-info: var(--icon-default);
  --icon-danger: var(--icon-default);
  --icon-neutral: var(--icon-default);
}

/* =========================
   THEME: DARK
   ========================= */
html[data-theme="dark"]{
  color-scheme: dark;
  /* values already ok in :root */
}

/* =========================
   THEME: COLOR / KANBAN (эталон)
   ========================= */
html[data-theme="color"]{
  color-scheme: light;

  --bg: #ffffff;
  --text: #111111;
  --muted: rgba(17,17,17,.62);
  --border: rgba(17,17,17,.12);

  --card: rgba(17,17,17,.02);

  /* нежный hover */
  --hover: rgba(255,255,255,.20);

  /* sidebar бирюза (как эталон) */
  --sidebar-bg: #37a9c2;
  --sidebar-text: #ffffff;
  --sidebar-muted: rgba(255,255,255,.88);

  /* в color делаем плоскую “светлую” типографику */
  --input-bg: #ffffff;
  --input-bg-focus: #ffffff;
  --input-text: #111;
  --input-border: rgba(17,17,17,.20);

  /* иконки белые, группы можно менять */
  --icon-default: rgba(255,255,255,.92);
  --icon-active: #ffffff;

  /* группы (можно тонко отличать) */
  --icon-crm: #ffffff;
  --icon-site: rgba(255,255,255,.95);
  --icon-users: #ffffff;
  --icon-info: #ffffff;
  --icon-danger: #ffffff;
  --icon-neutral: rgba(255,255,255,.92);
}

/* =========================
   BASIC UI
   ========================= */
.card{
  border: 1px solid var(--border);
  background: var(--card);
  border-radius: var(--radius);
  padding: 16px;
}

h1,h2,h3{ margin: 0 0 10px; font-weight: 800; }
p{ margin: 0 0 10px; }
small{ color: var(--muted); }

/* buttons */
.btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;

  padding: 10px 12px;
  border: 1px solid var(--border);
  background: transparent;
  color: var(--text);

  border-radius: var(--radius);
  cursor: pointer;
}
.btn:hover{ background: var(--hover); }
.btn.primary{
  background: var(--primary);
  border-color: transparent;
  color: #fff;
}
.btn.danger{
  background: transparent;
  border-color: rgba(255, 75, 75, .35);
  color: rgb(255, 75, 75);
}
.btn.danger:hover{
  background: rgba(255, 75, 75, .08);
}

/* forms */
label{ display:block; margin: 2px 0 6px; color: var(--muted); }

input, textarea, select{
  width: 100%;
  padding: 10px 12px;

  border-radius: var(--radius);
  border: 1px solid var(--input-border);
  background-color: var(--input-bg) !important;
  color: var(--input-text) !important;

  outline: none;
}
input:focus, textarea:focus, select:focus{
  border-color: var(--primary);
  background-color: var(--input-bg-focus) !important;
}

/* HARD OVERRIDE (на случай белых инпутов из других css) */
input, textarea, select{
  caret-color: var(--input-text) !important;
}

/* Autofill fix */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
textarea:-webkit-autofill,
select:-webkit-autofill{
  -webkit-text-fill-color: var(--input-text) !important;
  -webkit-box-shadow: 0 0 0px 1000px var(--input-bg) inset !important;
  box-shadow: 0 0 0px 1000px var(--input-bg) inset !important;
}
input:-moz-autofill,
textarea:-moz-autofill,
select:-moz-autofill{
  box-shadow: 0 0 0px 1000px var(--input-bg) inset !important;
  -moz-text-fill-color: var(--input-text) !important;
}

/* notices */
.notice{
  border: 1px solid var(--border);
  background: transparent;
  padding: 10px 12px;
  margin: 12px 0;
}
.notice.danger{
  border-color: rgba(255, 75, 75, .35);
}
